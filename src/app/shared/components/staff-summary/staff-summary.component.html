<table class="govuk-table">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th class="govuk-table__header" scope="col">Staff name</th>
      <th class="govuk-table__header" scope="col">Job role</th>
      <th class="govuk-table__header" scope="col">Last updated</th>
      <td *ngIf="!wdfReportEnabled" class="govuk-table__header" scope="col">
        <span class="govuk-visually-hidden">Status</span>
      </td>
      <th *ngIf="wdfReportEnabled" class="govuk-table__header" scope="col">WDF</th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
    <tr class="govuk-table__row" *ngFor="let worker of workers">
      <td class="govuk-table__cell" scope="row">
        <a *ngIf="!wdfReportEnabled" [routerLink]="['/workplace', workplace.uid, 'staff-record', worker.uid]">
          {{ worker.nameOrId }}
        </a>
        <a *ngIf="wdfReportEnabled" [routerLink]="['/reports', 'wdf', 'worker', worker.uid]">{{ worker.nameOrId }}</a>
      </td>
      <td class="govuk-table__cell">{{ worker.mainJob.other ? worker.mainJob.other : worker.mainJob.title }}</td>
      <td class="govuk-table__cell">
        <span class="govuk-visually-hidden">last updated</span> {{ lastUpdated(worker.updated) }}
      </td>
      <td *ngIf="!wdfReportEnabled" class="govuk-table__cell">
        <a
          *ngIf="!worker.completed"
          class="govuk-util__float-right"
          [routerLink]="[
            '/workplace',
            workplace.uid,
            'staff-record',
            worker.uid,
            worker.mainJob?.jobId === 27 ? 'mental-health-professional' : 'main-job-start-date'
          ]"
          >Provide more information <span class="govuk-visually-hidden"> for {{ worker.nameOrId }}</span></a
        >
      </td>
      <td *ngIf="wdfReportEnabled" class="govuk-table__cell">
        <span class="govuk-visually-hidden">{{ worker.nameOrId }} is</span>
        <app-eligibility-icon [eligible]="worker.wdfEligible"></app-eligibility-icon>
      </td>
    </tr>
  </tbody>
</table>
